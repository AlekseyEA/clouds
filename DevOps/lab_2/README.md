# Лабораторная работа 2
## Задание:
* Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
* Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
* В Readme описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
* В Readme описать 2 плохих практики по работе с контейнерами. ! Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.

## Ход работы:
### “Плохой” Dockerfile
```
FROM python:latest

ADD app.py .

CMD ["python", "./app.py"]
```
### “Хороший” Dockerfile
```
FROM python:3.9-alpine

WORKDIR /app

COPY app.py .

CMD ["python", "./app.py"]
```

### Исправления в Dockerfile:
#### 1. Используем конкретную версию Python:
Замена ```Python:latest``` на ```Python:3.9-alpine```, что гарантирует стабильность и предсказуемость образа, так как последняя версия может измениться, и написанный докерфайл может перестать работать в более новых версиях.
#### 2. Используем COPY вместо ADD:
Функционал ```ADD``` может вызыват незапланированные последствия при исполнении, так как помимо копирования локальных файлов и каталогов, также автоматически распаковывает архивы и может обрабатывать URL-адреса. Поэтому лучше по умолчанию использовать ```COPY```.
#### 3. Использовать WORKDIR:
Работа в корневой директории не безопасна, так как там находятся системные файлы, поэтому следует создавать отдельное рабочее пространство с помощью ```WORKDIR```

### "Плохие практики" по работе с контейнерами:
1. Запуск контейнера без ограничений по CPU и памяти:
   Предоставление контейнеру неограниченный доступ к системным ресурсам, может привести к тому, что один процес может занять всю оперативную память или процессорное время, что может привести к плохим последствиям.
   Это можно исправить, ограничив его следующей строкой.
   ```docker run --memory=512m --cpus="1.5" my_image```
3. Запуск контейнера с root правами:
  Такая ошибка ставит под угрозу безопасность системы.
  Это можно предотвратить, запуская контейнеры от имени некорневого пользователя с помощью директивы ```USER``` или параметра ```--user```
